Контрольная работа #7


Легенда
В компании за годы работы скопилась небольшая библиотека из которой работники могут периодически брать различную литературу для чтения, но отследить перемещение книг достаточно проблематично. В связи с чем было принято решение создать свой портал для регистрации книг а также книг выданных различным работникам. Требования к функционалу достаточно просты, каждому работнику который зарегистрирован в системе выдается уникальный идентификатор(email) по которому он может взять определенное количество книг, чтобы различные работники могли брать разные книги, было решено ограничить максимальное количество книг, на одного человека - 3 книги. 

Процесс регистрации пользователя следующий : 
Работник указывает свое имя, фамилию, email, номер телефона



Этап 1
На данном этапе необходимо разработать CRUD функционал для взаимодействия с книгами. Так как мы работаем без аутентификации, функционал взаимодействия с библиотекой будет доступен для всех. На главной странице должны отображаться все книги отсортированные по дате добавления, от новых к старым, в виде карточек с возможностью пройти на страницу детальной информации о книге, а также взять ее в библиотеке. В карточке книги отображается базовая информация по книге: Название, Автор, Статус книги, а также фото обложки. 



Сущность книги можно описать следующими полями :

Id

Название

Автор

Фото обложки

Год выпуска

Описание книги (Текстовое поле с кратким содержанием книги)

Дата добавления (Устанавливается автоматически при создании книги)

Примечание : Жирным шрифтом выделены поля, обязательные для заполнения при создании книги. (Все перечисленные поля должны быть описаны в сущности)



На главной странице со списком книг также должна быть реализована постраничная навигация На 1 странице отображать не более 2 книг. 
Дизайн детальной страницы и страницы создания/редактирования товара разработайте по вашему усмотрению.

Пример дизайна главной страницы : 





Этап 2
Вам потребуется реализовать возможность создавать пользователей а также создать функционал выдачи книг пользователям.

При регистрации пользователь вводит имя, фамилию, email, номер телефона. 



Ограничения по выдаче. Пользователь не зарегистрированный в системе не может взять книгу.


Книга которая выдана изменяет свой статус, в следствии чего не может быть выдана пока пользователь не сдаст ее обратно.


Проверка регистрации пользователя будет проходить по следующему алгоритму : 

Для получения книги пользователь должен ввести свой Email в форме для выдачи книги. Если пользователя с таким email не найдено, следует вернуть сообщение информирующее пользователя об этом. Также пользователь не может взять более 3-х книг.









Пример дизайна формы получения книги :






Примечание : Добавьте в форме скрытое поле для передачи id книги.

Для регистрации выданных книг лучше всего будет завести отдельную таблицу хранящую в себе id пользователя взявшего книгу, id книги, а также дату выдачи книги на руки и дату когда пользователь сдал книгу. (Это предпочтительный вариант решения, так вы сможете хранить информацию о том когда и какой пользователь брал книги)





Также на данном этапе необходимо реализовать функционал личного кабинета : 

Личный кабинет будет достаточно простым, при переходе по ссылке в личный кабинет пользователю отображается форма для ввода email , после чего необходимо отобразить список всех книг на руках у текущего пользователя. Книги должны также отображаться в виде карточек.



Сдать книгу пользователь может из личного кабинета, нажав на соответствующую кнопку в карточке книги

Пример дизайна личного кабинета : 



Этап 3
Доработка функционала :

Добавить возможность вывода списка всех выданных книг, с отметкой имени пользователя взявшего книгу. Переход к списку должен происходить по ссылке из шапки сайта.

Добавить к сущности книги поле для категории. Категория определяется как отдельная сущность и выбирается пользователем при создании книги в форме из выпадающего списка.

Добавить валидацию на базовые поля в формах.

Добавить возможность сортировки книг по названию, автору и статусу.

Добавить возможность фильтрации книг по названию, автору и статусу.



Этап 4 (Бонус)
На данном этапе необходимо добавить функционал скачивания книги в формате Pdf 

Файл не должен генерироваться на стороне сервера. Должна быть реализована возможность загрузить книгу в электронном варианте. Таким образом скачать можно будет только те книги которые были загружены в электронном виде.

Ссылка на скачивание должна находиться на странице детального просмотра книги. (+1)

Добавить функционал аутентификации по примеру с занятия (+4)



Общие рекомендации:

Не забывайте коммитить вносимые вами изменения. 

Сообщения коммитов должны быть четкими и информативными. 

Все лишние файлы и код не относящиеся к проекту должны быть удалены. 

Исключите из индексации локальные файлы не относящиеся к проекту. 

Местами вам помогут частичные представления, это может сэкономить вам время.

Не забывайте записывать время, которое планируете затратить на выполнение задач и фактическое время, затраченное на контрольную

